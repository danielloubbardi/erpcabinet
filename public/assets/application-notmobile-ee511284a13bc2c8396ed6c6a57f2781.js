var ZeroClipboard_TableTools={version:"1.0.4-TableTools2",clients:{},moviePath:"",nextId:1,$:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e.addClass||(e.hide=function(){this.style.display="none"},e.show=function(){this.style.display=""},e.addClass=function(e){this.removeClass(e),this.className+=" "+e},e.removeClass=function(e){this.className=this.className.replace(new RegExp("\\s*"+e+"\\s*")," ").replace(/^\s+/,"").replace(/\s+$/,"")},e.hasClass=function(e){return!!this.className.match(new RegExp("\\s*"+e+"\\s*"))}),e},setMoviePath:function(e){this.moviePath=e},dispatch:function(e,t,s){var i=this.clients[e];i&&i.receiveEvent(t,s)},register:function(e,t){this.clients[e]=t},getDOMObjectPosition:function(e){var t={left:0,top:0,width:e.width?e.width:e.offsetWidth,height:e.height?e.height:e.offsetHeight};for(""!=e.style.width&&(t.width=e.style.width.replace("px","")),""!=e.style.height&&(t.height=e.style.height.replace("px",""));e;)t.left+=e.offsetLeft,t.top+=e.offsetTop,e=e.offsetParent;return t},Client:function(e){this.handlers={},this.id=ZeroClipboard_TableTools.nextId++,this.movieId="ZeroClipboard_TableToolsMovie_"+this.id,ZeroClipboard_TableTools.register(this.id,this),e&&this.glue(e)}};ZeroClipboard_TableTools.Client.prototype={id:0,ready:!1,movie:null,clipText:"",fileName:"",action:"copy",handCursorEnabled:!0,cssEffects:!0,handlers:null,sized:!1,glue:function(e,t){this.domElement=ZeroClipboard_TableTools.$(e);var s=99;this.domElement.style.zIndex&&(s=parseInt(this.domElement.style.zIndex)+1);var i=ZeroClipboard_TableTools.getDOMObjectPosition(this.domElement);this.div=document.createElement("div");var n=this.div.style;n.position="absolute",n.left="0px",n.top="0px",n.width=i.width+"px",n.height=i.height+"px",n.zIndex=s,"undefined"!=typeof t&&""!=t&&(this.div.title=t),0!=i.width&&0!=i.height&&(this.sized=!0),this.domElement&&(this.domElement.appendChild(this.div),this.div.innerHTML=this.getHTML(i.width,i.height))},positionElement:function(){var e=ZeroClipboard_TableTools.getDOMObjectPosition(this.domElement),t=this.div.style;if(t.position="absolute",t.width=e.width+"px",t.height=e.height+"px",0!=e.width&&0!=e.height){this.sized=!0;var s=this.div.childNodes[0];s.width=e.width,s.height=e.height}},getHTML:function(e,t){var s="",i="id="+this.id+"&width="+e+"&height="+t;if(navigator.userAgent.match(/MSIE/)){var n=location.href.match(/^https/i)?"https://":"http://";s+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+n+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="'+e+'" height="'+t+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard_TableTools.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+i+'"/><param name="wmode" value="transparent"/></object>'}else s+='<embed id="'+this.movieId+'" src="'+ZeroClipboard_TableTools.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+e+'" height="'+t+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+i+'" wmode="transparent" />';return s},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var e=document.getElementsByTagName("body")[0];try{e.removeChild(this.div)}catch(t){}this.domElement=null,this.div=null}},reposition:function(e){if(e&&(this.domElement=ZeroClipboard_TableTools.$(e),this.domElement||this.hide()),this.domElement&&this.div){var t=ZeroClipboard_TableTools.getDOMObjectPosition(this.domElement),s=this.div.style;s.left=""+t.left+"px",s.top=""+t.top+"px"}},clearText:function(){this.clipText="",this.ready&&this.movie.clearText()},appendText:function(e){this.clipText+=e,this.ready&&this.movie.appendText(e)},setText:function(e){this.clipText=e,this.ready&&this.movie.setText(e)},setCharSet:function(e){this.charSet=e,this.ready&&this.movie.setCharSet(e)},setBomInc:function(e){this.incBom=e,this.ready&&this.movie.setBomInc(e)},setFileName:function(e){this.fileName=e,this.ready&&this.movie.setFileName(e)},setAction:function(e){this.action=e,this.ready&&this.movie.setAction(e)},addEventListener:function(e,t){e=e.toString().toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},setHandCursor:function(e){this.handCursorEnabled=e,this.ready&&this.movie.setHandCursor(e)},setCSSEffects:function(e){this.cssEffects=!!e},receiveEvent:function(e,t){switch(e=e.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=document.getElementById(this.movieId),!this.movie){var s=this;return setTimeout(function(){s.receiveEvent("load",null)},1),void 0}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var s=this;return setTimeout(function(){s.receiveEvent("load",null)},100),this.ready=!0,void 0}this.ready=!0,this.movie.clearText(),this.movie.appendText(this.clipText),this.movie.setFileName(this.fileName),this.movie.setAction(this.action),this.movie.setCharSet(this.charSet),this.movie.setBomInc(this.incBom),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&this.recoverActive&&this.domElement.addClass("active");break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[e])for(var i=0,n=this.handlers[e].length;n>i;i++){var o=this.handlers[e][i];"function"==typeof o?o(this,t):"object"==typeof o&&2==o.length?o[0][o[1]](this,t):"string"==typeof o&&window[o](this,t)}}};var ZeroClipboard_TableTools={version:"1.0.4-TableTools2",clients:{},moviePath:"",nextId:1,$:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e.addClass||(e.hide=function(){this.style.display="none"},e.show=function(){this.style.display=""},e.addClass=function(e){this.removeClass(e),this.className+=" "+e},e.removeClass=function(e){this.className=this.className.replace(RegExp("\\s*"+e+"\\s*")," ").replace(/^\s+/,"").replace(/\s+$/,"")},e.hasClass=function(e){return!!this.className.match(RegExp("\\s*"+e+"\\s*"))}),e},setMoviePath:function(e){this.moviePath=e},dispatch:function(e,t,s){(e=this.clients[e])&&e.receiveEvent(t,s)},register:function(e,t){this.clients[e]=t},getDOMObjectPosition:function(e){var t={left:0,top:0,width:e.width?e.width:e.offsetWidth,height:e.height?e.height:e.offsetHeight};for(""!=e.style.width&&(t.width=e.style.width.replace("px","")),""!=e.style.height&&(t.height=e.style.height.replace("px",""));e;)t.left+=e.offsetLeft,t.top+=e.offsetTop,e=e.offsetParent;return t},Client:function(e){this.handlers={},this.id=ZeroClipboard_TableTools.nextId++,this.movieId="ZeroClipboard_TableToolsMovie_"+this.id,ZeroClipboard_TableTools.register(this.id,this),e&&this.glue(e)}};ZeroClipboard_TableTools.Client.prototype={id:0,ready:!1,movie:null,clipText:"",fileName:"",action:"copy",handCursorEnabled:!0,cssEffects:!0,handlers:null,sized:!1,glue:function(e,t){this.domElement=ZeroClipboard_TableTools.$(e);var s=99;this.domElement.style.zIndex&&(s=parseInt(this.domElement.style.zIndex)+1);var i=ZeroClipboard_TableTools.getDOMObjectPosition(this.domElement);this.div=document.createElement("div");var n=this.div.style;n.position="absolute",n.left="0px",n.top="0px",n.width=i.width+"px",n.height=i.height+"px",n.zIndex=s,"undefined"!=typeof t&&""!=t&&(this.div.title=t),0!=i.width&&0!=i.height&&(this.sized=!0),this.domElement&&(this.domElement.appendChild(this.div),this.div.innerHTML=this.getHTML(i.width,i.height))},positionElement:function(){var e=ZeroClipboard_TableTools.getDOMObjectPosition(this.domElement),t=this.div.style;t.position="absolute",t.width=e.width+"px",t.height=e.height+"px",0!=e.width&&0!=e.height&&(this.sized=!0,t=this.div.childNodes[0],t.width=e.width,t.height=e.height)},getHTML:function(e,t){var s="",i="id="+this.id+"&width="+e+"&height="+t;if(navigator.userAgent.match(/MSIE/))var n=location.href.match(/^https/i)?"https://":"http://",s=s+('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+n+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="'+e+'" height="'+t+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard_TableTools.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+i+'"/><param name="wmode" value="transparent"/></object>');else s+='<embed id="'+this.movieId+'" src="'+ZeroClipboard_TableTools.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+e+'" height="'+t+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+i+'" wmode="transparent" />';return s},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var e=document.getElementsByTagName("body")[0];try{e.removeChild(this.div)}catch(t){}this.div=this.domElement=null}},reposition:function(e){if(e&&((this.domElement=ZeroClipboard_TableTools.$(e))||this.hide()),this.domElement&&this.div){var e=ZeroClipboard_TableTools.getDOMObjectPosition(this.domElement),t=this.div.style;t.left=""+e.left+"px",t.top=""+e.top+"px"}},clearText:function(){this.clipText="",this.ready&&this.movie.clearText()},appendText:function(e){this.clipText+=e,this.ready&&this.movie.appendText(e)},setText:function(e){this.clipText=e,this.ready&&this.movie.setText(e)},setCharSet:function(e){this.charSet=e,this.ready&&this.movie.setCharSet(e)},setBomInc:function(e){this.incBom=e,this.ready&&this.movie.setBomInc(e)},setFileName:function(e){this.fileName=e,this.ready&&this.movie.setFileName(e)},setAction:function(e){this.action=e,this.ready&&this.movie.setAction(e)},addEventListener:function(e,t){e=e.toString().toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},setHandCursor:function(e){this.handCursorEnabled=e,this.ready&&this.movie.setHandCursor(e)},setCSSEffects:function(e){this.cssEffects=!!e},receiveEvent:function(e,t){switch(e=e.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=document.getElementById(this.movieId),!this.movie){var s=this;return setTimeout(function(){s.receiveEvent("load",null)},1),void 0}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/))return s=this,setTimeout(function(){s.receiveEvent("load",null)},100),this.ready=!0,void 0;this.ready=!0,this.movie.clearText(),this.movie.appendText(this.clipText),this.movie.setFileName(this.fileName),this.movie.setAction(this.action),this.movie.setCharSet(this.charSet),this.movie.setBomInc(this.incBom),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&this.recoverActive&&this.domElement.addClass("active");break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[e])for(var i=0,n=this.handlers[e].length;n>i;i++){var o=this.handlers[e][i];"function"==typeof o?o(this,t):"object"==typeof o&&2==o.length?o[0][o[1]](this,t):"string"==typeof o&&window[o](this,t)}}};var TableTools;!function(e,t,s){TableTools=function(t,s){return!this instanceof TableTools&&alert("Warning: TableTools must be initialised with the keyword 'new'"),this.s={that:this,dt:t.fnSettings(),print:{saveStart:-1,saveLength:-1,saveScroll:-1,funcEnd:function(){}},buttonCounter:0,select:{type:"",selected:[],preRowSelect:null,postSelected:null,postDeselected:null,all:!1,selectedClass:""},custom:{},swfPath:"",buttonSet:[],master:!1,tags:{}},this.dom={container:null,table:null,print:{hidden:[],message:null},collection:{collection:null,background:null}},this.classes=e.extend(!0,{},TableTools.classes),this.s.dt.bJUI&&e.extend(!0,this.classes,TableTools.classes_themeroller),this.fnSettings=function(){return this.s},"undefined"==typeof s&&(s={}),this._fnConstruct(s),this},TableTools.prototype={fnGetSelected:function(e){var t,s=[],i=this.s.dt.aoData,n=this.s.dt.aiDisplay;if(e)for(e=0,t=n.length;t>e;e++)i[n[e]]._DTTT_selected&&s.push(i[n[e]].nTr);else for(e=0,t=i.length;t>e;e++)i[e]._DTTT_selected&&s.push(i[e].nTr);return s},fnGetSelectedData:function(){var e,t,s=[],i=this.s.dt.aoData;for(e=0,t=i.length;t>e;e++)i[e]._DTTT_selected&&s.push(this.s.dt.oInstance.fnGetData(e));return s},fnIsSelected:function(e){return e=this.s.dt.oInstance.fnGetPosition(e),!0===this.s.dt.aoData[e]._DTTT_selected?!0:!1},fnSelectAll:function(e){var t=this._fnGetMasterSettings();this._fnRowSelect(!0===e?t.dt.aiDisplay:t.dt.aoData)},fnSelectNone:function(e){this._fnGetMasterSettings(),this._fnRowDeselect(this.fnGetSelected(e))},fnSelect:function(e){"single"==this.s.select.type?(this.fnSelectNone(),this._fnRowSelect(e)):"multi"==this.s.select.type&&this._fnRowSelect(e)},fnDeselect:function(e){this._fnRowDeselect(e)},fnGetTitle:function(e){var t="";return"undefined"!=typeof e.sTitle&&""!==e.sTitle?t=e.sTitle:(e=s.getElementsByTagName("title"),0<e.length&&(t=e[0].innerHTML)),4>"ยก".toString().length?t.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""):t.replace(/[^a-zA-Z0-9_\.,\-_ !\(\)]/g,"")},fnCalcColRatios:function(e){var t,s,i=this.s.dt.aoColumns,e=this._fnColumnTargets(e.mColumns),n=[],o=0,l=0;for(t=0,s=e.length;s>t;t++)e[t]&&(o=i[t].nTh.offsetWidth,l+=o,n.push(o));for(t=0,s=n.length;s>t;t++)n[t]/=l;return n.join("	")},fnGetTableData:function(e){return this.s.dt?this._fnGetDataTablesData(e):void 0},fnSetText:function(e,t){this._fnFlashSetText(e,t)},fnResizeButtons:function(){for(var e in ZeroClipboard_TableTools.clients)if(e){var t=ZeroClipboard_TableTools.clients[e];"undefined"!=typeof t.domElement&&t.domElement.parentNode&&t.positionElement()}},fnResizeRequired:function(){for(var e in ZeroClipboard_TableTools.clients)if(e){var t=ZeroClipboard_TableTools.clients[e];if("undefined"!=typeof t.domElement&&t.domElement.parentNode==this.dom.container&&!1===t.sized)return!0}return!1},fnPrint:function(e,t){void 0===t&&(t={}),void 0===e||e?this._fnPrintStart(t):this._fnPrintEnd()},fnInfo:function(t,i){var n=s.createElement("div");n.className=this.classes.print.info,n.innerHTML=t,s.body.appendChild(n),setTimeout(function(){e(n).fadeOut("normal",function(){s.body.removeChild(n)})},i)},_fnConstruct:function(e){var t=this;this._fnCustomiseSettings(e),this.dom.container=s.createElement(this.s.tags.container),this.dom.container.className=this.classes.container,"none"!=this.s.select.type&&this._fnRowSelectConfig(),this._fnButtonDefinations(this.s.buttonSet,this.dom.container),this.s.dt.aoDestroyCallback.push({sName:"TableTools",fn:function(){t.dom.container.innerHTML=""}})},_fnCustomiseSettings:function(t){"undefined"==typeof this.s.dt._TableToolsInit&&(this.s.master=!0,this.s.dt._TableToolsInit=!0),this.dom.table=this.s.dt.nTable,this.s.custom=e.extend({},TableTools.DEFAULTS,t),this.s.swfPath=this.s.custom.sSwfPath,"undefined"!=typeof ZeroClipboard_TableTools&&(ZeroClipboard_TableTools.moviePath=this.s.swfPath),this.s.select.type=this.s.custom.sRowSelect,this.s.select.preRowSelect=this.s.custom.fnPreRowSelect,this.s.select.postSelected=this.s.custom.fnRowSelected,this.s.select.postDeselected=this.s.custom.fnRowDeselected,this.s.custom.sSelectedClass&&(this.classes.select.row=this.s.custom.sSelectedClass),this.s.tags=this.s.custom.oTags,this.s.buttonSet=this.s.custom.aButtons},_fnButtonDefinations:function(t,s){for(var i,n=0,o=t.length;o>n;n++){if("string"==typeof t[n]){if("undefined"==typeof TableTools.BUTTONS[t[n]]){alert("TableTools: Warning - unknown button type: "+t[n]);continue}i=e.extend({},TableTools.BUTTONS[t[n]],!0)}else{if("undefined"==typeof TableTools.BUTTONS[t[n].sExtends]){alert("TableTools: Warning - unknown button type: "+t[n].sExtends);continue}i=e.extend({},TableTools.BUTTONS[t[n].sExtends],!0),i=e.extend(i,t[n],!0)}s.appendChild(this._fnCreateButton(i,e(s).hasClass(this.classes.collection.container)))}},_fnCreateButton:function(e,t){var s=this._fnButtonBase(e,t);return e.sAction.match(/flash/)?this._fnFlashConfig(s,e):"text"==e.sAction?this._fnTextConfig(s,e):"div"==e.sAction?this._fnTextConfig(s,e):"collection"==e.sAction&&(this._fnTextConfig(s,e),this._fnCollectionConfig(s,e)),s},_fnButtonBase:function(e,t){var i,n,o;t?(i="default"!==e.sTag?e.sTag:this.s.tags.collection.button,n="default"!==e.sLinerTag?e.sLiner:this.s.tags.collection.liner,o=this.classes.collection.buttons.normal):(i="default"!==e.sTag?e.sTag:this.s.tags.button,n="default"!==e.sLinerTag?e.sLiner:this.s.tags.liner,o=this.classes.buttons.normal),i=s.createElement(i),n=s.createElement(n);var l=this._fnGetMasterSettings();return i.className=o+" "+e.sButtonClass,i.setAttribute("id","ToolTables_"+this.s.dt.sInstance+"_"+l.buttonCounter),i.appendChild(n),n.innerHTML=e.sButtonText,l.buttonCounter++,i},_fnGetMasterSettings:function(){if(this.s.master)return this.s;for(var e=TableTools._aInstances,t=0,s=e.length;s>t;t++)if(this.dom.table==e[t].s.dt.nTable)return e[t].s},_fnCollectionConfig:function(e,t){var i=s.createElement(this.s.tags.collection.container);i.style.display="none",i.className=this.classes.collection.container,t._collection=i,s.body.appendChild(i),this._fnButtonDefinations(t.aButtons,i)},_fnCollectionShow:function(i,n){var o=this,l=e(i).offset(),a=n._collection,r=l.left,l=l.top+e(i).outerHeight(),c=e(t).height(),h=e(s).height(),d=e(t).width(),u=e(s).width();a.style.position="absolute",a.style.left=r+"px",a.style.top=l+"px",a.style.display="block",e(a).css("opacity",0);var f=s.createElement("div");f.style.position="absolute",f.style.left="0px",f.style.top="0px",f.style.height=(c>h?c:h)+"px",f.style.width=(d>u?d:u)+"px",f.className=this.classes.collection.background,e(f).css("opacity",0),s.body.appendChild(f),s.body.appendChild(a),c=e(a).outerWidth(),d=e(a).outerHeight(),r+c>u&&(a.style.left=u-c+"px"),l+d>h&&(a.style.top=l-d-e(i).outerHeight()+"px"),this.dom.collection.collection=a,this.dom.collection.background=f,setTimeout(function(){e(a).animate({opacity:1},500),e(f).animate({opacity:.25},500)},10),this.fnResizeButtons(),e(f).click(function(){o._fnCollectionHide.call(o,null,null)})},_fnCollectionHide:function(t,s){!(null!==s&&"collection"==s.sExtends)&&null!==this.dom.collection.collection&&(e(this.dom.collection.collection).animate({opacity:0},500,function(){this.style.display="none"}),e(this.dom.collection.background).animate({opacity:0},500,function(){this.parentNode.removeChild(this)}),this.dom.collection.collection=null,this.dom.collection.background=null)},_fnRowSelectConfig:function(){if(this.s.master){var t=this,s=this.s.dt;e(s.nTable).addClass(this.classes.select.table),e("tr",s.nTBody).live("click",function(e){this.parentNode==s.nTBody&&null!==s.oInstance.fnGetData(this)&&(t.fnIsSelected(this)?t._fnRowDeselect(this,e):"single"==t.s.select.type?(t.fnSelectNone(),t._fnRowSelect(this,e)):"multi"==t.s.select.type&&t._fnRowSelect(this,e))}),s.oApi._fnCallbackReg(s,"aoRowCreatedCallback",function(i,n,o){s.aoData[o]._DTTT_selected&&e(i).addClass(t.classes.select.row)},"TableTools-SelectAll")}},_fnRowSelect:function(t,s){var i,n,o=this._fnSelectData(t),l=[];for(i=0,n=o.length;n>i;i++)o[i].nTr&&l.push(o[i].nTr);if(null===this.s.select.preRowSelect||this.s.select.preRowSelect.call(this,s,l,!0)){for(i=0,n=o.length;n>i;i++)o[i]._DTTT_selected=!0,o[i].nTr&&e(o[i].nTr).addClass(this.classes.select.row);null!==this.s.select.postSelected&&this.s.select.postSelected.call(this,l),TableTools._fnEventDispatch(this,"select",l,!0)}},_fnRowDeselect:function(t,s){var i,n,o=this._fnSelectData(t),l=[];for(i=0,n=o.length;n>i;i++)o[i].nTr&&l.push(o[i].nTr);if(null===this.s.select.preRowSelect||this.s.select.preRowSelect.call(this,s,l,!1)){for(i=0,n=o.length;n>i;i++)o[i]._DTTT_selected=!1,o[i].nTr&&e(o[i].nTr).removeClass(this.classes.select.row);null!==this.s.select.postDeselected&&this.s.select.postDeselected.call(this,l),TableTools._fnEventDispatch(this,"select",l,!1)}},_fnSelectData:function(e){var t,s,i,n=[];if(e.nodeName)t=this.s.dt.oInstance.fnGetPosition(e),n.push(this.s.dt.aoData[t]);else if("undefined"!=typeof e.length)for(s=0,i=e.length;i>s;s++)e[s].nodeName?(t=this.s.dt.oInstance.fnGetPosition(e[s]),n.push(this.s.dt.aoData[t])):"number"==typeof e[s]?n.push(this.s.dt.aoData[e[s]]):n.push(e[s]);else n.push(e);return n},_fnTextConfig:function(t,s){var i=this;null!==s.fnInit&&s.fnInit.call(this,t,s),""!==s.sToolTip&&(t.title=s.sToolTip),e(t).hover(function(){null!==s.fnMouseover&&s.fnMouseover.call(this,t,s,null)},function(){null!==s.fnMouseout&&s.fnMouseout.call(this,t,s,null)}),null!==s.fnSelect&&TableTools._fnEventListen(this,"select",function(e){s.fnSelect.call(i,t,s,e)}),e(t).click(function(){null!==s.fnClick&&s.fnClick.call(i,t,s,null),null!==s.fnComplete&&s.fnComplete.call(i,t,s,null,null),i._fnCollectionHide(t,s)})},_fnFlashConfig:function(e,t){var s=this,i=new ZeroClipboard_TableTools.Client;null!==t.fnInit&&t.fnInit.call(this,e,t),i.setHandCursor(!0),"flash_save"==t.sAction?(i.setAction("save"),i.setCharSet("utf16le"==t.sCharSet?"UTF16LE":"UTF8"),i.setBomInc(t.bBomInc),i.setFileName(t.sFileName.replace("*",this.fnGetTitle(t)))):"flash_pdf"==t.sAction?(i.setAction("pdf"),i.setFileName(t.sFileName.replace("*",this.fnGetTitle(t)))):i.setAction("copy"),i.addEventListener("mouseOver",function(){null!==t.fnMouseover&&t.fnMouseover.call(s,e,t,i)}),i.addEventListener("mouseOut",function(){null!==t.fnMouseout&&t.fnMouseout.call(s,e,t,i)}),i.addEventListener("mouseDown",function(){null!==t.fnClick&&t.fnClick.call(s,e,t,i)}),i.addEventListener("complete",function(n,o){null!==t.fnComplete&&t.fnComplete.call(s,e,t,i,o),s._fnCollectionHide(e,t)}),this._fnFlashGlue(i,e,t.sToolTip)},_fnFlashGlue:function(e,t,i){var n=this,o=t.getAttribute("id");s.getElementById(o)?e.glue(t,i):setTimeout(function(){n._fnFlashGlue(e,t,i)},100)},_fnFlashSetText:function(e,t){var s=this._fnChunkData(t,8192);e.clearText();for(var i=0,n=s.length;n>i;i++)e.appendText(s[i])},_fnColumnTargets:function(e){var t=[],s=this.s.dt;if("object"==typeof e){for(i=0,iLen=s.aoColumns.length;iLen>i;i++)t.push(!1);for(i=0,iLen=e.length;iLen>i;i++)t[e[i]]=!0}else if("visible"==e)for(i=0,iLen=s.aoColumns.length;iLen>i;i++)t.push(s.aoColumns[i].bVisible?!0:!1);else if("hidden"==e)for(i=0,iLen=s.aoColumns.length;iLen>i;i++)t.push(s.aoColumns[i].bVisible?!1:!0);else if("sortable"==e)for(i=0,iLen=s.aoColumns.length;iLen>i;i++)t.push(s.aoColumns[i].bSortable?!0:!1);else for(i=0,iLen=s.aoColumns.length;iLen>i;i++)t.push(!0);return t},_fnNewline:function(e){return"auto"==e.sNewLine?navigator.userAgent.match(/Windows/)?"\r\n":"\n":e.sNewLine},_fnGetDataTablesData:function(t){var s,i,n,o,l,a,r=[],c="",h=this.s.dt,d=RegExp(t.sFieldBoundary,"g"),u=this._fnColumnTargets(t.mColumns);if(n="undefined"!=typeof t.bSelectedOnly?t.bSelectedOnly:!1,t.bHeader){for(l=[],s=0,i=h.aoColumns.length;i>s;s++)u[s]&&(c=h.aoColumns[s].sTitle.replace(/\n/g," ").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,""),c=this._fnHtmlDecode(c),l.push(this._fnBoundData(c,t.sFieldBoundary,d)));r.push(l.join(t.sFieldSeperator))}var f=h.aiDisplay;if(o=this.fnGetSelected(),"none"!==this.s.select.type&&n&&0!==o.length)for(f=[],s=0,i=o.length;i>s;s++)f.push(h.oInstance.fnGetPosition(o[s]));for(n=0,o=f.length;o>n;n++){for(a=h.aoData[f[n]].nTr,l=[],s=0,i=h.aoColumns.length;i>s;s++)u[s]&&(c=h.oApi._fnGetCellData(h,f[n],s,"display"),t.fnCellRender?c=t.fnCellRender(c,s,a,f[n])+"":"string"==typeof c?(c=c.replace(/\n/g," "),c=c.replace(/<img.*?\s+alt\s*=\s*(?:"([^"]+)"|'([^']+)'|([^\s>]+)).*?>/gi,"$1$2$3"),c=c.replace(/<.*?>/g,"")):c+="",c=c.replace(/^\s+/,"").replace(/\s+$/,""),c=this._fnHtmlDecode(c),l.push(this._fnBoundData(c,t.sFieldBoundary,d)));r.push(l.join(t.sFieldSeperator)),t.bOpenRows&&(s=e.grep(h.aoOpenRows,function(e){return e.nParent===a}),1===s.length&&(c=this._fnBoundData(e("td",s[0].nTr).html(),t.sFieldBoundary,d),r.push(c)))}if(t.bFooter&&null!==h.nTFoot){for(l=[],s=0,i=h.aoColumns.length;i>s;s++)u[s]&&null!==h.aoColumns[s].nTf&&(c=h.aoColumns[s].nTf.innerHTML.replace(/\n/g," ").replace(/<.*?>/g,""),c=this._fnHtmlDecode(c),l.push(this._fnBoundData(c,t.sFieldBoundary,d)));r.push(l.join(t.sFieldSeperator))}return _sLastData=r.join(this._fnNewline(t))},_fnBoundData:function(e,t,s){return""===t?e:t+e.replace(s,t+t)+t},_fnChunkData:function(e,t){for(var s=[],i=e.length,n=0;i>n;n+=t)i>n+t?s.push(e.substring(n,n+t)):s.push(e.substring(n,i));return s},_fnHtmlDecode:function(e){if(-1===e.indexOf("&"))return e;var t=s.createElement("div");return e.replace(/&([^\s]*);/g,function(e,s){return"#"===e.substr(1,1)?String.fromCharCode(Number(s.substr(1))):(t.innerHTML=e,t.childNodes[0].nodeValue)})},_fnPrintStart:function(i){var n=this,o=this.s.dt;this._fnPrintHideNodes(o.nTable),this.s.print.saveStart=o._iDisplayStart,this.s.print.saveLength=o._iDisplayLength,i.bShowAll&&(o._iDisplayStart=0,o._iDisplayLength=-1,o.oApi._fnCalculateEnd(o),o.oApi._fnDraw(o)),(""!==o.oScroll.sX||""!==o.oScroll.sY)&&(this._fnPrintScrollStart(o),e(this.s.dt.nTable).bind("draw.DTTT_Print",function(){n._fnPrintScrollStart(o)}));var l,a=o.aanFeatures;for(l in a)if("i"!=l&&"t"!=l&&1==l.length)for(var r=0,c=a[l].length;c>r;r++)this.dom.print.hidden.push({node:a[l][r],display:"block"}),a[l][r].style.display="none";e(s.body).addClass(this.classes.print.body),""!==i.sInfo&&this.fnInfo(i.sInfo,3e3),i.sMessage&&(this.dom.print.message=s.createElement("div"),this.dom.print.message.className=this.classes.print.message,this.dom.print.message.innerHTML=i.sMessage,s.body.insertBefore(this.dom.print.message,s.body.childNodes[0])),this.s.print.saveScroll=e(t).scrollTop(),t.scrollTo(0,0),e(s).bind("keydown.DTTT",function(e){27==e.keyCode&&(e.preventDefault(),n._fnPrintEnd.call(n,e))})},_fnPrintEnd:function(){var i=this.s.dt,n=this.s.print,o=this.dom.print;this._fnPrintShowNodes(),(""!==i.oScroll.sX||""!==i.oScroll.sY)&&(e(this.s.dt.nTable).unbind("draw.DTTT_Print"),this._fnPrintScrollEnd()),t.scrollTo(0,n.saveScroll),null!==o.message&&(s.body.removeChild(o.message),o.message=null),e(s.body).removeClass("DTTT_Print"),i._iDisplayStart=n.saveStart,i._iDisplayLength=n.saveLength,i.oApi._fnCalculateEnd(i),i.oApi._fnDraw(i),e(s).unbind("keydown.DTTT")},_fnPrintScrollStart:function(){var t=this.s.dt;t.nScrollHead.getElementsByTagName("div")[0].getElementsByTagName("table");var s=t.nTable.parentNode,i=t.nTable.getElementsByTagName("thead");0<i.length&&t.nTable.removeChild(i[0]),null!==t.nTFoot&&(i=t.nTable.getElementsByTagName("tfoot"),0<i.length&&t.nTable.removeChild(i[0])),i=t.nTHead.cloneNode(!0),t.nTable.insertBefore(i,t.nTable.childNodes[0]),null!==t.nTFoot&&(i=t.nTFoot.cloneNode(!0),t.nTable.insertBefore(i,t.nTable.childNodes[1])),""!==t.oScroll.sX&&(t.nTable.style.width=e(t.nTable).outerWidth()+"px",s.style.width=e(t.nTable).outerWidth()+"px",s.style.overflow="visible"),""!==t.oScroll.sY&&(s.style.height=e(t.nTable).outerHeight()+"px",s.style.overflow="visible")},_fnPrintScrollEnd:function(){var e=this.s.dt,t=e.nTable.parentNode;""!==e.oScroll.sX&&(t.style.width=e.oApi._fnStringToCss(e.oScroll.sX),t.style.overflow="auto"),""!==e.oScroll.sY&&(t.style.height=e.oApi._fnStringToCss(e.oScroll.sY),t.style.overflow="auto")},_fnPrintShowNodes:function(){for(var e=this.dom.print.hidden,t=0,s=e.length;s>t;t++)e[t].node.style.display=e[t].display;e.splice(0,e.length)},_fnPrintHideNodes:function(t){for(var s=this.dom.print.hidden,i=t.parentNode,n=i.childNodes,o=0,l=n.length;l>o;o++)if(n[o]!=t&&1==n[o].nodeType){var a=e(n[o]).css("display");"none"!=a&&(s.push({node:n[o],display:a}),n[o].style.display="none")}"BODY"!=i.nodeName&&this._fnPrintHideNodes(i)}},TableTools._aInstances=[],TableTools._aListeners=[],TableTools.fnGetMasters=function(){for(var e=[],t=0,s=TableTools._aInstances.length;s>t;t++)TableTools._aInstances[t].s.master&&e.push(TableTools._aInstances[t]);return e},TableTools.fnGetInstance=function(e){"object"!=typeof e&&(e=s.getElementById(e));for(var t=0,i=TableTools._aInstances.length;i>t;t++)if(TableTools._aInstances[t].s.master&&TableTools._aInstances[t].dom.table==e)return TableTools._aInstances[t];return null},TableTools._fnEventListen=function(e,t,s){TableTools._aListeners.push({that:e,type:t,fn:s})},TableTools._fnEventDispatch=function(e,t,s,i){for(var n=TableTools._aListeners,o=0,l=n.length;l>o;o++)e.dom.table==n[o].that.dom.table&&n[o].type==t&&n[o].fn(s,i)},TableTools.buttonBase={sAction:"text",sTag:"default",sLinerTag:"default",sButtonClass:"DTTT_button_text",sButtonText:"Button text",sTitle:"",sToolTip:"",sCharSet:"utf8",bBomInc:!1,sFileName:"*.csv",sFieldBoundary:"",sFieldSeperator:"	",sNewLine:"auto",mColumns:"all",bHeader:!0,bFooter:!0,bOpenRows:!1,bSelectedOnly:!1,fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:null,fnComplete:null,fnInit:null,fnCellRender:null},TableTools.BUTTONS={csv:e.extend({},TableTools.buttonBase,{sAction:"flash_save",sButtonClass:"DTTT_button_csv",sButtonText:"CSV",sFieldBoundary:'"',sFieldSeperator:",",fnClick:function(e,t,s){this.fnSetText(s,this.fnGetTableData(t))}}),xls:e.extend({},TableTools.buttonBase,{sAction:"flash_save",sCharSet:"utf16le",bBomInc:!0,sButtonClass:"DTTT_button_xls",sButtonText:"Excel",fnClick:function(e,t,s){this.fnSetText(s,this.fnGetTableData(t))}}),copy:e.extend({},TableTools.buttonBase,{sAction:"flash_copy",sButtonClass:"DTTT_button_copy",sButtonText:"Copy",fnClick:function(e,t,s){this.fnSetText(s,this.fnGetTableData(t))},fnComplete:function(e,t,s,i){e=i.split("\n").length,e=null===this.s.dt.nTFoot?e-1:e-2,this.fnInfo("<h6>Table copied</h6><p>Copied "+e+" row"+(1==e?"":"s")+" to the clipboard.</p>",1500)}}),pdf:e.extend({},TableTools.buttonBase,{sAction:"flash_pdf",sNewLine:"\n",sFileName:"*.pdf",sButtonClass:"DTTT_button_pdf",sButtonText:"PDF",sPdfOrientation:"portrait",sPdfSize:"A4",sPdfMessage:"",fnClick:function(e,t,s){this.fnSetText(s,"title:"+this.fnGetTitle(t)+"\nmessage:"+t.sPdfMessage+"\ncolWidth:"+this.fnCalcColRatios(t)+"\norientation:"+t.sPdfOrientation+"\nsize:"+t.sPdfSize+"\n--/TableToolsOpts--\n"+this.fnGetTableData(t))}}),print:e.extend({},TableTools.buttonBase,{sInfo:"<h6>Print view</h6><p>Please use your browser's print function to print this table. Press escape when finished.",sMessage:null,bShowAll:!0,sToolTip:"View print view",sButtonClass:"DTTT_button_print",sButtonText:"Print",fnClick:function(e,t){this.fnPrint(!0,t)}}),text:e.extend({},TableTools.buttonBase),select:e.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(t){0!==this.fnGetSelected().length?e(t).removeClass(this.classes.buttons.disabled):e(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){e(t).addClass(this.classes.buttons.disabled)}}),select_single:e.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(t){1==this.fnGetSelected().length?e(t).removeClass(this.classes.buttons.disabled):e(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){e(t).addClass(this.classes.buttons.disabled)}}),select_all:e.extend({},TableTools.buttonBase,{sButtonText:"Select all",fnClick:function(){this.fnSelectAll()},fnSelect:function(t){this.fnGetSelected().length==this.s.dt.fnRecordsDisplay()?e(t).addClass(this.classes.buttons.disabled):e(t).removeClass(this.classes.buttons.disabled)}}),select_none:e.extend({},TableTools.buttonBase,{sButtonText:"Deselect all",fnClick:function(){this.fnSelectNone()},fnSelect:function(t){0!==this.fnGetSelected().length?e(t).removeClass(this.classes.buttons.disabled):e(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){e(t).addClass(this.classes.buttons.disabled)
}}),ajax:e.extend({},TableTools.buttonBase,{sAjaxUrl:"/xhr.php",sButtonText:"Ajax button",fnClick:function(t,s){var i=this.fnGetTableData(s);e.ajax({url:s.sAjaxUrl,data:[{name:"tableData",value:i}],success:s.fnAjaxComplete,dataType:"json",type:"POST",cache:!1,error:function(){alert("Error detected when sending table data to server")}})},fnAjaxComplete:function(){alert("Ajax complete")}}),div:e.extend({},TableTools.buttonBase,{sAction:"div",sTag:"div",sButtonClass:"DTTT_nonbutton",sButtonText:"Text button"}),collection:e.extend({},TableTools.buttonBase,{sAction:"collection",sButtonClass:"DTTT_button_collection",sButtonText:"Collection",fnClick:function(e,t){this._fnCollectionShow(e,t)}})},TableTools.classes={container:"DTTT_container",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"},collection:{container:"DTTT_collection",background:"DTTT_collection_background",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"}},select:{table:"DTTT_selectable",row:"DTTT_selected"},print:{body:"DTTT_Print",info:"DTTT_print_info",message:"DTTT_PrintMessage"}},TableTools.classes_themeroller={container:"DTTT_container ui-buttonset ui-buttonset-multi",buttons:{normal:"DTTT_button ui-button ui-state-default"},collection:{container:"DTTT_collection ui-buttonset ui-buttonset-multi"}},TableTools.DEFAULTS={sSwfPath:"media/swf/copy_csv_xls_pdf.swf",sRowSelect:"none",sSelectedClass:null,fnPreRowSelect:null,fnRowSelected:null,fnRowDeselected:null,aButtons:["copy","csv","xls","pdf","print"],oTags:{container:"div",button:"a",liner:"span",collection:{container:"div",button:"a",liner:"span"}}},TableTools.prototype.CLASS="TableTools",TableTools.VERSION="2.1.4",TableTools.prototype.VERSION=TableTools.VERSION,"function"==typeof e.fn.dataTable&&"function"==typeof e.fn.dataTableExt.fnVersionCheck&&e.fn.dataTableExt.fnVersionCheck("1.9.0")?e.fn.dataTableExt.aoFeatures.push({fnInit:function(e){return e=new TableTools(e.oInstance,"undefined"!=typeof e.oInit.oTableTools?e.oInit.oTableTools:{}),TableTools._aInstances.push(e),e.dom.container},cFeature:"T",sFeature:"TableTools"}):alert("Warning: TableTools 2 requires DataTables 1.9.0 or newer - www.datatables.net/download"),e.fn.DataTable.TableTools=TableTools}(jQuery,window,document),function(e,t){"use strict";function s(e){var t=Array.prototype.slice.call(arguments,1);return e.prop?e.prop.apply(e,t):e.attr.apply(e,t)}function i(e,t,s){var i,n;for(i in s)s.hasOwnProperty(i)&&(n=i.replace(/ |$/g,t.eventNamespace),e.bind(i,s[i]))}function n(e,t,s){i(e,s,{focus:function(){t.addClass(s.focusClass)},blur:function(){t.removeClass(s.focusClass),t.removeClass(s.activeClass)},mouseenter:function(){t.addClass(s.hoverClass)},mouseleave:function(){t.removeClass(s.hoverClass),t.removeClass(s.activeClass)},"mousedown touchbegin":function(){e.is(":disabled")||t.addClass(s.activeClass)},"mouseup touchend":function(){t.removeClass(s.activeClass)}})}function o(e,t){e.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass)}function l(e,t,s){s?e.addClass(t):e.removeClass(t)}function a(e,t,s){var i="checked",n=t.is(":"+i);t.prop?t.prop(i,n):n?t.attr(i,i):t.removeAttr(i),l(e,s.checkedClass,n)}function r(e,t,s){l(e,s.disabledClass,t.is(":disabled"))}function c(e,t,s){switch(s){case"after":return e.after(t),e.next();case"before":return e.before(t),e.prev();case"wrap":return e.wrap(t),e.parent()}return null}function h(t,i,n){var o,l,a;return n||(n={}),n=e.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},n),o=e("<div />"),l=e("<span />"),i.autoHide&&t.is(":hidden")&&"none"===t.css("display")&&o.hide(),n.divClass&&o.addClass(n.divClass),n.spanClass&&l.addClass(n.spanClass),a=s(t,"id"),i.useID&&a&&s(o,"id",i.idPrefix+"-"+a),n.spanHtml&&l.html(n.spanHtml),o=c(t,o,n.divWrap),l=c(t,l,n.spanWrap),r(o,t,i),{div:o,span:l}}function d(){var t,s,i,n;return n="rgb(120,2,153)",s=e('<div style="width:0;height:0;color:'+n+'">'),e("body").append(s),i=s.get(0),t=window.getComputedStyle?window.getComputedStyle(i,"").color:(i.currentStyle||i.style||{}).color,s.remove(),t.replace(/ /g,"")!==n}function u(t){return t?e("<span />").text(t).html():""}function f(e){var t;return e[0].multiple?!0:(t=s(e,"size"),!t||1>=t?!1:!0)}function p(){return!1}function m(e,t){var s="none";i(e,t,{"selectstart dragstart mousedown":p}),e.css({MozUserSelect:s,msUserSelect:s,webkitUserSelect:s,userSelect:s})}function v(e,t,s){var i=e.val();""===i?i=s.fileDefaultHtml:(i=i.split(/[\/\\]+/),i=i[i.length-1]),t.text(i)}function g(e,t,s){var i,n;for(i=[],e.each(function(){var e;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i.push({el:this,name:e,old:this.style[e]}),this.style[e]=t[e])}),s();i.length;)n=i.pop(),n.el.style[n.name]=n.old}function b(e,t){g(e.parents().andSelf().not(":visible"),{visibility:"hidden",display:"block",position:"absolute"},t)}function T(e,t){return function(){e.unwrap().unwrap().unbind(t.eventNamespace)}}var C=!0,y=!1,w=[{match:function(e){return e.is("a, button, :submit, :reset, input[type='button']")},apply:function(e,t){var l,a,c,d,f;return a=t.submitDefaultHtml,e.is(":reset")&&(a=t.resetDefaultHtml),d=e.is("a, button")?function(){return e.html()||a}:function(){return u(s(e,"value"))||a},c=h(e,t,{divClass:t.buttonClass,spanHtml:d()}),l=c.div,n(e,l,t),f=!1,i(l,t,{"click touchend":function(){var t,i,n,o;f||(f=!0,e[0].dispatchEvent?(t=document.createEvent("MouseEvents"),t.initEvent("click",!0,!0),i=e[0].dispatchEvent(t),(jQuery.browser.msie||jQuery.browser.mozilla)&&e.is("a")&&i&&(n=s(e,"target"),o=s(e,"href"),n&&"_self"!==n?window.open(o,n):document.location.href=o)):e.click(),f=!1)}}),m(l,t),{remove:function(){return l.after(e),l.remove(),e.unbind(t.eventNamespace),e},update:function(){o(l,t),r(l,e,t),c.span.html(d())}}}},{match:function(e){return e.is(":checkbox")},apply:function(e,t){var s,l,c;return s=h(e,t,{divClass:t.checkboxClass}),l=s.div,c=s.span,n(e,l,t),i(e,t,{"click touchend":function(){a(c,e,t)}}),a(c,e,t),{remove:T(e,t),update:function(){o(l,t),c.removeClass(t.checkedClass),a(c,e,t),r(l,e,t)}}}},{match:function(e){return e.is(":file")},apply:function(t,l){function a(){v(t,f,l)}var d,u,f,p;return d=h(t,l,{divClass:l.fileClass,spanClass:l.fileButtonClass,spanHtml:l.fileButtonHtml,spanWrap:"after"}),u=d.div,p=d.span,f=e("<span />").html(l.fileDefaultHtml),f.addClass(l.filenameClass),f=c(t,f,"after"),s(t,"size")||s(t,"size",u.width()/10),n(t,u,l),a(),e.browser.msie?i(t,l,{click:function(){t.trigger("change"),setTimeout(a,0)}}):i(t,l,{change:a}),m(f,l),m(p,l),{remove:function(){return f.remove(),p.remove(),t.unwrap().unbind(l.eventNamespace)},update:function(){o(u,l),v(t,f,l),r(u,t,l)}}}},{match:function(e){if(e.is("input")){var t=(" "+s(e,"type")+" ").toLowerCase(),i=" color date datetime datetime-local email month number password search tel text time url week ";return i.indexOf(t)>=0}return!1},apply:function(e){var t=s(e,"type");return e.addClass(t),{remove:function(){e.removeClass(t)},update:p}}},{match:function(e){return e.is(":radio")},apply:function(t,l){var c,d,u;return c=h(t,l,{divClass:l.radioClass}),d=c.div,u=c.span,n(t,d,l),i(t,l,{"click touchend":function(){e.uniform.update(e(':radio[name="'+s(t,"name")+'"]'))}}),a(u,t,l),{remove:T(t,l),update:function(){o(d,l),a(u,t,l),r(d,t,l)}}}},{match:function(e){return e.is("select")&&!f(e)?!0:!1},apply:function(t,s){var l,a,c,d;return s.selectAutoWidth&&b(t,function(){d=t.width()}),l=h(t,s,{divClass:s.selectClass,spanHtml:(t.find(":selected:first")||t.find("option:first")).html(),spanWrap:"before"}),a=l.div,c=l.span,s.selectAutoWidth?b(t,function(){var e;e=c.outerWidth()-c.width(),a.width(d+e),c.width(d)}):a.addClass("fixedWidth"),n(t,a,s),i(t,s,{change:function(){c.html(t.find(":selected").html()),a.removeClass(s.activeClass)},"click touchend":function(){var e=t.find(":selected").html();c.html()!==e&&t.trigger("change")},keyup:function(){c.html(t.find(":selected").html())}}),m(c,s),{remove:function(){return c.remove(),t.unwrap().unbind(s.eventNamespace),t},update:function(){s.selectAutoWidth?(e.uniform.restore(t),t.uniform(s)):(o(a,s),c.html(t.find(":selected").html()),r(a,t,s))}}}},{match:function(e){return e.is("select")&&f(e)?!0:!1},apply:function(e,t){return e.addClass(t.selectMultiClass),{remove:function(){e.removeClass(t.selectMultiClass)},update:p}}},{match:function(e){return e.is("textarea")},apply:function(e,t){return e.addClass(t.textareaClass),{remove:function(){e.removeClass(t.textareaClass)},update:p}}}];e.browser.msie&&7>e.browser.version&&(C=!1),e.uniform={defaults:{activeClass:"active",autoHide:!0,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"file-action btn btn-success",fileButtonHtml:"<i class='icon-plus'></i>",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:!1,selectAutoWidth:!0,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:!0},elements:[]},e.fn.uniform=function(t){var s=this;return t=e.extend({},e.uniform.defaults,t),y||(y=!0,d()&&(C=!1)),C?(t.resetSelector&&e(t.resetSelector).mouseup(function(){window.setTimeout(function(){e.uniform.update(s)},10)}),this.each(function(){var s,i,n,o=e(this);if(o.data("uniformed"))return e.uniform.update(o),void 0;for(s=0;w.length>s;s+=1)if(i=w[s],i.match(o,t))return n=i.apply(o,t),o.data("uniformed",n),e.uniform.elements.push(o.get(0)),void 0})):this},e.uniform.restore=e.fn.uniform.restore=function(s){s===t&&(s=e.uniform.elements),e(s).each(function(){var t,s,i=e(this);s=i.data("uniformed"),s&&(s.remove(),t=e.inArray(this,e.uniform.elements),t>=0&&e.uniform.elements.splice(t,1),i.removeData("uniformed"))})},e.uniform.update=e.fn.uniform.update=function(s){s===t&&(s=e.uniform.elements),e(s).each(function(){var t,s=e(this);t=s.data("uniformed"),t&&t.update(s,t.options)})}}(jQuery),function(e){"undefined"==typeof e.fn.each2&&e.fn.extend({each2:function(t){for(var s=e([0]),i=-1,n=this.length;++i<n&&(s.context=s[0]=this[i])&&!1!==t.call(s[0],i,s););return this}})}(jQuery),function(e,t){function s(e,t){var s,i=0,n=t.length;if("undefined"==typeof e)return-1;if(e.constructor===String){for(;n>i;i+=1)if(0===e.localeCompare(t[i]))return i}else for(;n>i;i+=1)if(s=t[i],s.constructor===String){if(0===s.localeCompare(e))return i}else if(s===e)return i;return-1}function i(e,s){return e===s?!0:e===t||s===t||null===e||null===s?!1:e.constructor===String?0===e.localeCompare(s):s.constructor===String?0===s.localeCompare(e):!1}function n(t,s){var i,n,o;if(null===t||1>t.length)return[];for(i=t.split(s),n=0,o=i.length;o>n;n+=1)i[n]=e.trim(i[n]);return i}function o(e,s,i){var n,i=i||t;return function(){var t=arguments;window.clearTimeout(n),n=window.setTimeout(function(){s.apply(i,t)},e)}}function l(e){e.preventDefault(),e.stopPropagation()}function a(e,t,s){var i=e.toUpperCase().indexOf(t.toUpperCase()),t=t.length;0>i?s.push(e):(s.push(e.substring(0,i)),s.push("<span class='select2-match'>"),s.push(e.substring(i,i+t)),s.push("</span>"),s.push(e.substring(i+t,e.length)))}function r(t){var s,i=0,n=null,o=t.quietMillis||100;return function(l){window.clearTimeout(s),s=window.setTimeout(function(){var s=i+=1,o=t.data,a=t.transport||e.ajax,r=t.traditional||!1,c=t.type||"GET",o=o.call(this,l.term,l.page,l.context);null!==n&&n.abort(),n=a.call(null,{url:t.url,dataType:t.dataType,data:o,type:c,traditional:r,success:function(e){i>s||(e=t.results(e,l.page),l.callback(e))}})},o)}}function c(t){var s,i=t,n=function(e){return""+e.text};return e.isArray(i)||(n=i.text,e.isFunction(n)||(s=i.text,n=function(e){return e[s]}),i=i.results),function(t){var s,o=t.term,l={results:[]};""===o?t.callback({results:i}):(s=function(i,l){var a,r,i=i[0];if(i.children){a={};for(r in i)i.hasOwnProperty(r)&&(a[r]=i[r]);a.children=[],e(i.children).each2(function(e,t){s(t,a.children)}),a.children.length&&l.push(a)}else t.matcher(o,n(i))&&l.push(i)},e(i).each2(function(e,t){s(t,l.results)}),t.callback(l))}}function h(s){return e.isFunction(s)?s:function(i){var n=i.term,o={results:[]};e(s).each(function(){var e=this.text!==t,s=e?this.text:this;(""===n||i.matcher(n,s))&&o.results.push(e?this:{id:this,text:this})}),i.callback(o)}}function d(t){if(e.isFunction(t))return!0;if(!t)return!1;throw Error("formatterName must be a function or a falsy value")}function u(t){return e.isFunction(t)?t():t}function f(t){var s=0;return e.each(t,function(e,t){t.children?s+=f(t.children):s++}),s}function p(e,s,n,o){var l,a,r,c,h=e,d=!1;if(!o.createSearchChoice||!o.tokenSeparators||1>o.tokenSeparators.length)return t;for(;;){for(d=-1,a=0,r=o.tokenSeparators.length;r>a&&(c=o.tokenSeparators[a],d=e.indexOf(c),!(d>=0));a++);if(0>d)break;if(l=e.substring(0,d),e=e.substring(d+c.length),0<l.length&&(l=o.createSearchChoice(l,s),l!==t&&null!==l&&o.id(l)!==t&&null!==o.id(l))){for(d=!1,a=0,r=s.length;r>a;a++)if(i(o.id(l),o.id(s[a]))){d=!0;break}d||n(l)}}return 0!=h.localeCompare(e)?e:void 0}function m(t,s){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,s),i}if(window.Select2===t){var v,g,b,T,C,y;v={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case v.LEFT:case v.RIGHT:case v.UP:case v.DOWN:return!0}return!1},isControl:function(e){switch(e.which){case v.SHIFT:case v.CTRL:case v.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}};var w=1;C=function(){return w++},e(document).delegate("body","mousemove",function(t){e.data(document,"select2-lastpos",{x:t.pageX,y:t.pageY})}),e(document).ready(function(){e(document).delegate("body","mousedown touchend",function(s){var i,n=e(s.target).closest("div.select2-container").get(0);n?e(document).find("div.select2-container-active").each(function(){this!==n&&e(this).data("select2").blur()}):(n=e(s.target).closest("div.select2-drop").get(0),e(document).find("div.select2-drop-active").each(function(){this!==n&&e(this).data("select2").blur()})),n=e(s.target),i=n.attr("for"),"LABEL"===s.target.tagName&&i&&0<i.length&&(n=e("#"+i),n=n.data("select2"),n!==t&&(n.focus(),s.preventDefault()))})}),g=m(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(i){var n,a;this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==t&&null!==i.element.data("select2")&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+C()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId);var r,c=!1;this.body=function(){return!1===c&&(r=i.element.closest("body"),c=!0),r},i.element.attr("class")!==t&&this.container.addClass(i.element.attr("class").replace(/validate\[[\S ]+] ?/,"")),this.container.css(u(i.containerCss)),this.container.addClass(u(i.containerCssClass)),this.opts.element.data("select2",this).hide().before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(u(i.dropdownCssClass)),this.dropdown.data("select2",this),this.results=n=this.container.find(".select2-results"),this.search=a=this.container.find("input.select2-input"),a.attr("tabIndex",this.opts.element.attr("tabIndex")),this.resultsPage=0,this.context=null,this.initContainer(),this.initContainerWidth(),this.results.bind("mousemove",function(s){var i=e.data(document,"select2-lastpos");(i===t||i.x!==s.pageX||i.y!==s.pageY)&&e(s.target).trigger("mousemove-filtered",s)}),this.dropdown.delegate(".select2-results","mousemove-filtered",this.bind(this.highlightUnderEvent));var h=this.results,d=o(80,function(e){h.trigger("scroll-debounced",e)});h.bind("scroll",function(e){0<=s(e.target,h.get())&&d(e)}),this.dropdown.delegate(".select2-results","scroll-debounced",this.bind(this.loadMoreIfNeeded)),e.fn.mousewheel&&n.mousewheel(function(e,t,s,i){t=n.scrollTop(),i>0&&0>=t-i?(n.scrollTop(0),l(e)):0>i&&n.get(0).scrollHeight-n.scrollTop()+i<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),l(e))}),a.bind("keydown",function(){e.data(a,"keyup-change-value")===t&&e.data(a,"keyup-change-value",a.val())}),a.bind("keyup",function(){var s=e.data(a,"keyup-change-value");s!==t&&a.val()!==s&&(e.removeData(a,"keyup-change-value"),a.trigger("keyup-change"))}),a.bind("keyup-change",this.bind(this.updateResults)),a.bind("focus",function(){a.addClass("select2-focused")," "===a.val()&&a.val("")}),a.bind("blur",function(){a.removeClass("select2-focused")}),this.dropdown.delegate(".select2-results","mouseup",this.bind(function(t){0<e(t.target).closest(".select2-result-selectable:not(.select2-disabled)").length?(this.highlightUnderEvent(t),this.selectHighlighted(t)):this.focusSearch(),l(t)})),this.dropdown.bind("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(i.element.is(":disabled")||i.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var e=this.opts.element.data("select2");e!==t&&(e.container.remove(),e.dropdown.remove(),e.opts.element.removeData("select2").unbind(".select2").show())},prepareOpts:function(s){var o,l,a;if(o=s.element,"select"===o.get(0).tagName.toLowerCase()&&(this.select=l=s.element),l&&e.each("id multiple ajax query createSearchChoice initSelection data tags".split(" "),function(){if(this in s)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),s=e.extend({},{populateResults:function(i,n,o){var l,a=this.opts.id,r=this;l=function(i,n,c){var h,d,u,f,p,m,v;for(h=0,d=i.length;d>h;h+=1)u=i[h],f=a(u)!==t,p=u.children&&u.children.length>0,m=e("<li></li>"),m.addClass("select2-results-dept-"+c),m.addClass("select2-result"),m.addClass(f?"select2-result-selectable":"select2-result-unselectable"),p&&m.addClass("select2-result-with-children"),m.addClass(r.opts.formatResultCssClass(u)),f=e("<div></div>"),f.addClass("select2-result-label"),v=s.formatResult(u,f,o),v!==t&&f.html(r.opts.escapeMarkup(v)),m.append(f),p&&(p=e("<ul></ul>"),p.addClass("select2-result-sub"),l(u.children,p,c+1),m.append(p)),m.data("select2-data",u),n.append(m)},l(n,i,0)}},e.fn.select2.defaults,s),"function"!=typeof s.id&&(a=s.id,s.id=function(e){return e[a]}),l?(s.query=this.bind(function(s){var i,n,l,a={results:[],more:!1},r=s.term;l=function(e,t){var i;e.is("option")?s.matcher(r,e.text(),e)&&t.push({id:e.attr("value"),text:e.text(),element:e.get(),css:e.attr("class")}):e.is("optgroup")&&(i={text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")},e.children().each2(function(e,t){l(t,i.children)}),i.children.length>0&&t.push(i))},i=o.children(),this.getPlaceholder()!==t&&i.length>0&&(n=i[0],""===e(n).text()&&(i=i.not(n))),i.each2(function(e,t){l(t,a.results)}),s.callback(a)}),s.id=function(e){return e.id},s.formatResultCssClass=function(e){return e.css}):"query"in s||("ajax"in s?((l=s.element.data("ajax-url"))&&0<l.length&&(s.ajax.url=l),s.query=r(s.ajax)):"data"in s?s.query=c(s.data):"tags"in s&&(s.query=h(s.tags),s.createSearchChoice=function(e){return{id:e,text:e}},s.initSelection=function(t,o){var l=[];e(n(t.val(),s.separator)).each(function(){var t=this,n=this,o=s.tags;e.isFunction(o)&&(o=o()),e(o).each(function(){return i(this.id,t)?(n=this.text,!1):void 0}),l.push({id:t,text:n})}),o(l)})),"function"!=typeof s.query)throw"query function not defined for Select2 "+s.element.attr("id");return s},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}))},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,s=this.container.offset(),i=this.container.outerHeight(),n=this.container.outerWidth(),o=this.dropdown.outerHeight(),l=e(window).scrollTop()+document.documentElement.clientHeight,i=s.top+i,a=s.left,l=l>=i+o,r=s.top-o>=this.body().scrollTop(),c=this.dropdown.hasClass("select2-drop-above");"static"!==this.body().css("position")&&(t=this.body().offset(),i-=t.top,a-=t.left),c?(c=!0,!r&&l&&(c=!1)):(c=!1,!l&&r&&(c=!0)),c?(i=s.top-o,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),s=e.extend({top:i,left:a,width:n},u(this.opts.dropdownCss)),this.dropdown.css(s)},shouldOpen:function(){var t;return this.opened()?!1:(t=e.Event("open"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){var t=this.containerId,s=this.containerSelector,i="scroll."+t,n="resize."+t;this.container.parents().each(function(){e(this).bind(i,function(){var t=e(s);0==t.length&&e(this).unbind(i),t.select2("close")})}),e(window).bind(n,function(){var t=e(s);0==t.length&&e(window).unbind(n),t.select2("close")}),this.clearDropdownAlignmentPreference()," "===this.search.val()&&this.search.val(""),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.updateResults(!0),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible(),this.focusSearch()},close:function(){if(this.opened()){var t=this;this.container.parents().each(function(){e(this).unbind("scroll."+t.containerId)}),e(window).unbind("resize."+this.containerId),this.clearDropdownAlignmentPreference(),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.opts.element.trigger(e.Event("close"))}},clearSearch:function(){},ensureHighlightVisible:function(){var t,s,i,n,o=this.results;s=this.highlight(),0>s||(0==s?o.scrollTop(0):(t=o.find(".select2-result-selectable"),i=e(t[s]),n=i.offset().top+i.outerHeight(),s===t.length-1&&(t=o.find("li.select2-more-results"),0<t.length&&(n=t.offset().top+t.outerHeight())),t=o.offset().top+o.outerHeight(),n>t&&o.scrollTop(o.scrollTop()+(n-t)),i=i.offset().top-o.offset().top,0>i&&o.scrollTop(o.scrollTop()+i)))},moveHighlight:function(t){for(var s=this.results.find(".select2-result-selectable"),i=this.highlight();i>-1&&i<s.length;){var i=i+t,n=e(s[i]);if(n.hasClass("select2-result-selectable")&&!n.hasClass("select2-disabled")){this.highlight(i);break}}},highlight:function(t){var i=this.results.find(".select2-result-selectable").not(".select2-disabled");return 0===arguments.length?s(i.filter(".select2-highlighted")[0],i.get()):(t>=i.length&&(t=i.length-1),0>t&&(t=0),i.removeClass("select2-highlighted"),e(i[t]).addClass("select2-highlighted"),this.ensureHighlightVisible(),void 0)},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length},highlightUnderEvent:function(t){if(t=e(t.target).closest(".select2-result-selectable"),0<t.length&&!t.is(".select2-highlighted")){var s=this.results.find(".select2-result-selectable");this.highlight(s.index(t))}else 0==t.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var e,t=this.results,s=t.find("li.select2-more-results"),i=this.resultsPage+1,n=this,o=this.search.val(),l=this.context;0!==s.length&&(e=s.offset().top-t.offset().top-t.height(),0>=e&&(s.addClass("select2-active"),this.opts.query({term:o,page:i,context:l,matcher:this.opts.matcher,callback:this.bind(function(e){n.opened()&&(n.opts.populateResults.call(this,t,e.results,{term:o,page:i,context:l}),!0===e.more?(s.detach().appendTo(t).text(n.opts.formatLoadMore(i+1)),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):s.remove(),n.positionDropdown(),n.resultsPage=i)})})))},tokenize:function(){},updateResults:function(s){function n(){r.scrollTop(0),a.removeClass("select2-active"),h.positionDropdown()}function o(e){r.html(h.opts.escapeMarkup(e)),n()}var l,a=this.search,r=this.results,c=this.opts,h=this;if(!0===s||!1!==this.showSearchInput&&this.opened()){if(a.addClass("select2-active"),1<=c.maximumSelectionSize&&(l=this.data(),e.isArray(l)&&l.length>=c.maximumSelectionSize&&d(c.formatSelectionTooBig,"formatSelectionTooBig")))return o("<li class='select2-selection-limit'>"+c.formatSelectionTooBig(c.maximumSelectionSize)+"</li>"),void 0;a.val().length<c.minimumInputLength&&d(c.formatInputTooShort,"formatInputTooShort")?o("<li class='select2-no-results'>"+c.formatInputTooShort(a.val(),c.minimumInputLength)+"</li>"):(o("<li class='select2-searching'>"+c.formatSearching()+"</li>"),l=this.tokenize(),l!=t&&null!=l&&a.val(l),this.resultsPage=1,c.query({term:a.val(),page:this.resultsPage,context:null,matcher:c.matcher,callback:this.bind(function(l){var u;this.opened()&&(this.context=l.context===t?null:l.context,this.opts.createSearchChoice&&""!==a.val()&&(u=this.opts.createSearchChoice.call(null,a.val(),l.results),u!==t&&null!==u&&h.id(u)!==t&&null!==h.id(u)&&0===e(l.results).filter(function(){return i(h.id(this),h.id(u))}).length&&l.results.unshift(u)),0===l.results.length&&d(c.formatNoMatches,"formatNoMatches")?o("<li class='select2-no-results'>"+c.formatNoMatches(a.val())+"</li>"):(r.empty(),h.opts.populateResults.call(this,r,l.results,{term:a.val(),page:this.resultsPage,context:null}),!0===l.more&&d(c.formatLoadMore,"formatLoadMore")&&(r.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(c.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(l,s),n()))})}))}},cancel:function(){this.close()},blur:function(){this.close(),this.container.removeClass("select2-container-active"),this.dropdown.removeClass("select2-drop-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){this.search.show(),this.search.focus(),window.setTimeout(this.bind(function(){this.search.show(),this.search.focus(),this.search.val(this.search.val())}),10)},selectHighlighted:function(){var e=this.highlight(),t=this.results.find(".select2-highlighted").not(".select2-disabled"),s=t.closest(".select2-result-selectable").data("select2-data");s&&(t.addClass("select2-disabled"),this.highlight(e),this.onSelect(s))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){var s=function(){var s,i,n,o;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(s=this.opts.element.attr("style"),s!==t)for(s=s.split(";"),n=0,o=s.length;o>n;n+=1)if(i=s[n].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==i&&1<=i.length)return i[1];return"resolve"===this.opts.width?(s=this.opts.element.css("width"),0<s.indexOf("%")?s:0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==s&&this.container.attr("style","width: "+s)}}),b=m(g,{createContainer:function(){return e("<div></div>",{"class":"select2-container"}).html("    <a href='#' onclick='return false;' class='select2-choice'>   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>   <div><b></b></div></a>    <div class='select2-drop select2-offscreen'>   <div class='select2-search'>       <input type='text' autocomplete='off' class='select2-input'/>   </div>   <ul class='select2-results'>   </ul></div>")},opening:function(){this.search.show(),this.parent.opening.apply(this,arguments),this.dropdown.removeClass("select2-offscreen")},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show())},focus:function(){this.close(),this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments),this.selection.focus()},initContainer:function(){var e,t=this.dropdown;this.selection=e=this.container.find(".select2-choice"),this.search.bind("keydown",this.bind(function(e){if(this.enabled)if(e.which===v.PAGE_UP||e.which===v.PAGE_DOWN)l(e);else if(this.opened())switch(e.which){case v.UP:case v.DOWN:this.moveHighlight(e.which===v.UP?-1:1),l(e);break;case v.TAB:case v.ENTER:this.selectHighlighted(),l(e);break;case v.ESC:this.cancel(e),l(e)}else e.which===v.TAB||v.isControl(e)||v.isFunctionKey(e)||e.which===v.ESC||!1===this.opts.openOnEnter&&e.which===v.ENTER||this.open()})),this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1")})),this.search.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.selection.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)})),e.bind("mousedown",this.bind(function(){this.opened()?(this.close(),this.selection.focus()):this.enabled&&this.open()})),t.bind("mousedown",this.bind(function(){this.search.focus()})),e.bind("focus",this.bind(function(){this.container.addClass("select2-container-active"),this.search.attr("tabIndex","-1")})),e.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)})),e.bind("keydown",this.bind(function(e){if(this.enabled)if(e.which===v.PAGE_UP||e.which===v.PAGE_DOWN)l(e);else if(!(e.which===v.TAB||v.isControl(e)||v.isFunctionKey(e)||e.which===v.ESC||!1===this.opts.openOnEnter&&e.which===v.ENTER))if(e.which==v.DELETE)this.opts.allowClear&&this.clear();else{if(this.open(),e.which!==v.ENTER&&!(48>e.which)){var t=String.fromCharCode(e.which).toLowerCase();e.shiftKey&&(t=t.toUpperCase()),this.search.focus(),this.search.val(t)}l(e)}})),e.delegate("abbr","mousedown",this.bind(function(e){this.enabled&&(this.clear(),l(e),this.close(),this.triggerChange(),this.selection.focus())})),this.setPlaceholder(),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")}))},clear:function(){this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder()},initSelection:function(){if(""===this.opts.element.val())this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(s){s!==t&&null!==s&&(e.updateSelection(s),e.close(),e.setPlaceholder())})}},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return"select"===t.element.get(0).tagName.toLowerCase()&&(t.initSelection=function(t,s){var i=t.find(":selected");e.isFunction(s)&&s({id:i.attr("value"),text:i.text()})}),t},setPlaceholder:function(){var e=this.getPlaceholder();""===this.opts.element.val()&&e!==t&&!(this.select&&""!==this.select.find("option:first").text())&&(this.selection.find("span").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide())},postprocessResults:function(t,s){var n=0,o=this,l=!0;this.results.find(".select2-result-selectable").each2(function(e,t){return i(o.id(t.data("select2-data")),o.opts.element.val())?(n=e,!1):void 0}),this.highlight(n),!0===s&&(l=this.showSearchInput=f(t.results)>=this.opts.minimumResultsForSearch,this.dropdown.find(".select2-search")[l?"removeClass":"addClass"]("select2-search-hidden"),e(this.dropdown,this.container)[l?"addClass":"removeClass"]("select2-with-searchbox"))
},onSelect:function(e){var t=this.opts.element.val();this.opts.element.val(this.id(e)),this.updateSelection(e),this.close(),this.selection.focus(),i(t,this.id(e))||this.triggerChange()},updateSelection:function(e){var s=this.selection.find("span");this.selection.data("select2-data",e),s.empty(),e=this.opts.formatSelection(e,s),e!==t&&s.append(this.opts.escapeMarkup(e)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.selection.find("abbr").show()},val:function(){var e,s=null,i=this;if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],this.select)this.select.val(e).find(":selected").each2(function(e,t){return s={id:t.attr("value"),text:t.text()},!1}),this.updateSelection(s),this.setPlaceholder();else{if(this.opts.initSelection===t)throw Error("cannot call val() if initSelection() is not defined");e?(this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){i.opts.element.val(e?i.id(e):""),i.updateSelection(e),i.setPlaceholder()})):this.clear()}},clearSearch:function(){this.search.val("")},data:function(e){var s;return 0===arguments.length?(s=this.selection.data("select2-data"),s==t&&(s=null),s):(e&&""!==e?(this.opts.element.val(e?this.id(e):""),this.updateSelection(e)):this.clear(),void 0)}}),T=m(g,{createContainer:function(){return e("<div></div>",{"class":"select2-container select2-container-multi"}).html("    <ul class='select2-choices'>  <li class='select2-search-field'>    <input type='text' autocomplete='off' class='select2-input'>  </li></ul><div class='select2-drop select2-drop-multi' style='display:none;'>   <ul class='select2-results'>   </ul></div>")},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return"select"===t.element.get(0).tagName.toLowerCase()&&(t.initSelection=function(t,s){var i=[];t.find(":selected").each2(function(e,t){i.push({id:t.attr("value"),text:t.text()})}),e.isFunction(s)&&s(i)}),t},initContainer:function(){var t;this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(".select2-choices"),this.search.bind("keydown",this.bind(function(e){if(this.enabled){if(e.which===v.BACKSPACE&&""===this.search.val()){this.close();var s;if(s=t.find(".select2-search-choice-focus"),0<s.length)return this.unselect(s.first()),this.search.width(10),l(e),void 0;s=t.find(".select2-search-choice"),0<s.length&&s.last().addClass("select2-search-choice-focus")}else t.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(e.which){case v.UP:case v.DOWN:return this.moveHighlight(e.which===v.UP?-1:1),l(e),void 0;case v.ENTER:case v.TAB:return this.selectHighlighted(),l(e),void 0;case v.ESC:return this.cancel(e),l(e),void 0}e.which===v.TAB||v.isControl(e)||v.isFunctionKey(e)||e.which===v.BACKSPACE||e.which===v.ESC||!1===this.opts.openOnEnter&&e.which===v.ENTER||(this.open(),(e.which===v.PAGE_UP||e.which===v.PAGE_DOWN)&&l(e))}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.clearSearch(),e.stopImmediatePropagation()})),this.container.delegate(".select2-choices","mousedown",this.bind(function(t){this.enabled&&!(0<e(t.target).closest(".select2-search-choice").length)&&(this.clearPlaceholder(),this.open(),this.focusSearch(),t.preventDefault())})),this.container.delegate(".select2-choices","focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){if(""===this.opts.element.val()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(s){s!==t&&null!==s&&(e.updateSelection(s),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder();e!==t&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(e).addClass("select2-default"),this.resizeSearch()):this.search.val(" ").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")?this.search.val("").removeClass("select2-default"):" "===this.search.val()&&this.search.val("")},opening:function(){this.parent.opening.apply(this,arguments),this.clearPlaceholder(),this.resizeSearch(),this.focusSearch()},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i=[],n=[],o=this;e(t).each(function(){0>s(o.id(this),i)&&(i.push(o.id(this)),n.push(this))}),t=n,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var e=this.search.val(),e=this.opts.tokenizer(e,this.data(),this.bind(this.onSelect),this.opts);null!=e&&e!=t&&(this.search.val(e),0<e.length&&this.open())},onSelect:function(e){this.addSelectedChoice(e),this.select&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):0<this.countSelectableResults()?(this.search.width(10),this.resizeSearch(),this.positionDropdown()):this.close(),this.triggerChange({added:e}),this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(t){var s,i=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),n=this.id(t),o=this.getVal();s=this.opts.formatSelection(t,i),i.find("div").replaceWith("<div>"+this.opts.escapeMarkup(s)+"</div>"),i.find(".select2-search-choice-close").bind("mousedown",l).bind("click dblclick",this.bind(function(t){this.enabled&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),l(t))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),i.data("select2-data",t),i.insertBefore(this.searchContainer),o.push(n),this.setVal(o)},unselect:function(e){var t,i,n=this.getVal(),e=e.closest(".select2-search-choice");if(0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";t=e.data("select2-data"),i=s(this.id(t),n),i>=0&&(n.splice(i,1),this.setVal(n),this.select&&this.postprocessResults()),e.remove(),this.triggerChange({removed:t})},postprocessResults:function(){var e=this.getVal(),t=this.results.find(".select2-result-selectable"),i=this.results.find(".select2-result-with-children"),n=this;t.each2(function(t,i){var o=n.id(i.data("select2-data"));0<=s(o,e)?i.addClass("select2-disabled").removeClass("select2-result-selectable"):i.removeClass("select2-disabled").addClass("select2-result-selectable")}),i.each2(function(e,t){0==t.find(".select2-result-selectable").length?t.addClass("select2-disabled"):t.removeClass("select2-disabled")}),t.each2(function(e,t){return!t.hasClass("select2-disabled")&&t.hasClass("select2-result-selectable")?(n.highlight(0),!1):void 0})},resizeSearch:function(){var t,s,i,n,o=this.search.outerWidth()-this.search.width();t=this.search,y||(i=t[0].currentStyle||window.getComputedStyle(t[0],null),y=e("<div></div>").css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"}),e("body").append(y)),y.text(t.val()),t=y.width()+10,s=this.search.offset().left,i=this.selection.width(),n=this.selection.offset().left,s=i-(s-n)-o,t>s&&(s=i-o),40>s&&(s=i-o),this.search.width(s)},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),n(e,this.opts.separator))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],e(t).each(function(){0>s(this,i)&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},val:function(){var s,i=[],n=this;if(0===arguments.length)return this.getVal();if(s=arguments[0])if(this.setVal(s),this.select)this.select.find(":selected").each(function(){i.push({id:e(this).attr("value"),text:e(this).text()})}),this.updateSelection(i);else{if(this.opts.initSelection===t)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var s=e(t).map(n.id);n.setVal(s),n.updateSelection(t),n.clearSearch()})}else this.opts.element.val(""),this.updateSelection([]);this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],s=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(s.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t){var s,i=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(t||(t=[]),s=e.map(t,function(e){return i.opts.id(e)}),this.setVal(s),this.updateSelection(t),this.clearSearch(),void 0)}}),e.fn.select2=function(){var i,n,o,l,a=Array.prototype.slice.call(arguments,0),r="val destroy opened open close focus isFocused container onSortStart onSortEnd enable disable positionDropdown data".split(" ");return this.each(function(){if(0===a.length||"object"==typeof a[0])i=0===a.length?{}:e.extend({},a[0]),i.element=e(this),"select"===i.element.get(0).tagName.toLowerCase()?l=i.element.attr("multiple"):(l=i.multiple||!1,"tags"in i&&(i.multiple=l=!0)),n=l?new T:new b,n.init(i);else{if("string"!=typeof a[0])throw"Invalid arguments to select2 plugin: "+a;if(0>s(a[0],r))throw"Unknown method: "+a[0];if(o=t,n=e(this).data("select2"),n!==t&&(o="container"===a[0]?n.container:n[a[0]].apply(n,a.slice(1)),o!==t))return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,s){return t=[],a(e.text,s.term,t),t.join("")},formatSelection:function(e){return e?e.text:t},formatResultCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){return"Please enter "+(t-e.length)+" more characters"},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return 0<=t.toUpperCase().indexOf(e.toUpperCase())},separator:",",tokenSeparators:[],tokenizer:p,escapeMarkup:function(e){return e&&"string"==typeof e?e.replace(/&/g,"&amp;"):e},blurOnChange:!1},window.Select2={query:{ajax:r,local:c,tags:h},util:{debounce:o,markMatch:a},"class":{"abstract":g,single:b,multi:T}}}}(jQuery),document.createElement("canvas").getContext||function(){function e(){return this.context_||(this.context_=new c(this))}function t(e,t){var s=S.call(arguments,2);return function(){return e.apply(t,s.concat(S.call(arguments)))}}function s(e){var t=e.srcElement;switch(e.propertyName){case"width":t.style.width=t.attributes.width.nodeValue+"px",t.getContext().clearRect();break;case"height":t.style.height=t.attributes.height.nodeValue+"px",t.getContext().clearRect()}}function i(e){var t=e.srcElement;t.firstChild&&(t.firstChild.style.width=t.clientWidth+"px",t.firstChild.style.height=t.clientHeight+"px")}function n(){return[[1,0,0],[0,1,0],[0,0,1]]}function o(e,t){for(var s=n(),i=0;3>i;i++)for(var o=0;3>o;o++){for(var l=0,a=0;3>a;a++)l+=e[i][a]*t[a][o];s[i][o]=l}return s}function l(e,t){t.fillStyle=e.fillStyle,t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.shadowBlur=e.shadowBlur,t.shadowColor=e.shadowColor,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY,t.strokeStyle=e.strokeStyle,t.globalAlpha=e.globalAlpha,t.arcScaleX_=e.arcScaleX_,t.arcScaleY_=e.arcScaleY_,t.lineScale_=e.lineScale_}function a(e){var t,s=1;if(e=String(e),"rgb"==e.substring(0,3)){var i=e.indexOf("(",3),n=e.indexOf(")",i+1),o=e.substring(i+1,n).split(",");t="#";for(var l=0;3>l;l++)t+=x[Number(o[l])];4==o.length&&"a"==e.substr(3,1)&&(s=o[3])}else t=e;return{color:t,alpha:s}}function r(e){switch(e){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}function c(e){this.m_=n(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*y,this.globalAlpha=1,this.canvas=e;var t=e.ownerDocument.createElement("div");t.style.width=e.clientWidth+"px",t.style.height=e.clientHeight+"px",t.style.overflow="hidden",t.style.position="absolute",e.appendChild(t),this.element_=t,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function h(e,t,s,i){e.currentPath_.push({type:"bezierCurveTo",cp1x:t.x,cp1y:t.y,cp2x:s.x,cp2y:s.y,x:i.x,y:i.y}),e.currentX_=i.x,e.currentY_=i.y}function d(e){for(var t=0;3>t;t++)for(var s=0;2>s;s++)if(!isFinite(e[t][s])||isNaN(e[t][s]))return!1;return!0}function u(e,t,s){d(t)&&(e.m_=t,s&&(e.lineScale_=C(T(t[0][0]*t[1][1]-t[0][1]*t[1][0]))))}function f(e){this.type_=e,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function p(){}var m=Math,v=m.round,g=m.sin,b=m.cos,T=m.abs,C=m.sqrt,y=10,w=y/2,S=Array.prototype.slice,_={init:function(e){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var s=e||document;s.createElement("canvas"),s.attachEvent("onreadystatechange",t(this.init_,this,s))}},init_:function(e){if(e.namespaces.g_vml_||e.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),e.namespaces.g_o_||e.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),!e.styleSheets.ex_canvas_){var t=e.createStyleSheet();t.owningElement.id="ex_canvas_",t.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}for(var s=e.getElementsByTagName("canvas"),i=0;i<s.length;i++)this.initElement(s[i])},initElement:function(t){if(!t.getContext){t.getContext=e,t.innerHTML="",t.attachEvent("onpropertychange",s),t.attachEvent("onresize",i);var n=t.attributes;n.width&&n.width.specified?t.style.width=n.width.nodeValue+"px":t.width=t.clientWidth,n.height&&n.height.specified?t.style.height=n.height.nodeValue+"px":t.height=t.clientHeight}return t}};_.init();for(var x=[],E=0;16>E;E++)for(var P=0;16>P;P++)x[16*E+P]=E.toString(16)+P.toString(16);var D=c.prototype;D.clearRect=function(){this.element_.innerHTML=""},D.beginPath=function(){this.currentPath_=[]},D.moveTo=function(e,t){var s=this.getCoords_(e,t);this.currentPath_.push({type:"moveTo",x:s.x,y:s.y}),this.currentX_=s.x,this.currentY_=s.y},D.lineTo=function(e,t){var s=this.getCoords_(e,t);this.currentPath_.push({type:"lineTo",x:s.x,y:s.y}),this.currentX_=s.x,this.currentY_=s.y},D.bezierCurveTo=function(e,t,s,i,n,o){var l=this.getCoords_(n,o),a=this.getCoords_(e,t),r=this.getCoords_(s,i);h(this,a,r,l)},D.quadraticCurveTo=function(e,t,s,i){var n=this.getCoords_(e,t),o=this.getCoords_(s,i),l={x:this.currentX_+.6666666666666666*(n.x-this.currentX_),y:this.currentY_+.6666666666666666*(n.y-this.currentY_)};h(this,l,{x:l.x+(o.x-this.currentX_)/3,y:l.y+(o.y-this.currentY_)/3},o)},D.arc=function(e,t,s,i,n,o){s*=y;var l=o?"at":"wa",a=e+b(i)*s-w,r=t+g(i)*s-w,c=e+b(n)*s-w,h=t+g(n)*s-w;a!=c||o||(a+=.125);var d=this.getCoords_(e,t),u=this.getCoords_(a,r),f=this.getCoords_(c,h);this.currentPath_.push({type:l,x:d.x,y:d.y,radius:s,xStart:u.x,yStart:u.y,xEnd:f.x,yEnd:f.y})},D.rect=function(e,t,s,i){this.moveTo(e,t),this.lineTo(e+s,t),this.lineTo(e+s,t+i),this.lineTo(e,t+i),this.closePath()},D.strokeRect=function(e,t,s,i){var n=this.currentPath_;this.beginPath(),this.moveTo(e,t),this.lineTo(e+s,t),this.lineTo(e+s,t+i),this.lineTo(e,t+i),this.closePath(),this.stroke(),this.currentPath_=n},D.fillRect=function(e,t,s,i){var n=this.currentPath_;this.beginPath(),this.moveTo(e,t),this.lineTo(e+s,t),this.lineTo(e+s,t+i),this.lineTo(e,t+i),this.closePath(),this.fill(),this.currentPath_=n},D.createLinearGradient=function(e,t,s,i){var n=new f("gradient");return n.x0_=e,n.y0_=t,n.x1_=s,n.y1_=i,n},D.createRadialGradient=function(e,t,s,i,n,o){var l=new f("gradientradial");return l.x0_=e,l.y0_=t,l.r0_=s,l.x1_=i,l.y1_=n,l.r1_=o,l},D.drawImage=function(e){var t,s,i,n,o,l,a,r,c=e.runtimeStyle.width,h=e.runtimeStyle.height;e.runtimeStyle.width="auto",e.runtimeStyle.height="auto";var d=e.width,u=e.height;if(e.runtimeStyle.width=c,e.runtimeStyle.height=h,3==arguments.length)t=arguments[1],s=arguments[2],o=l=0,a=i=d,r=n=u;else if(5==arguments.length)t=arguments[1],s=arguments[2],i=arguments[3],n=arguments[4],o=l=0,a=d,r=u;else{if(9!=arguments.length)throw Error("Invalid number of arguments");o=arguments[1],l=arguments[2],a=arguments[3],r=arguments[4],t=arguments[5],s=arguments[6],i=arguments[7],n=arguments[8]}var f=this.getCoords_(t,s),p=[];if(p.push(" <g_vml_:group",' coordsize="',10*y,",",10*y,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]){var g=[];g.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",v(f.x/y),",","Dy=",v(f.y/y),"");var b=f,T=this.getCoords_(t+i,s),C=this.getCoords_(t,s+n),w=this.getCoords_(t+i,s+n);b.x=m.max(b.x,T.x,C.x,w.x),b.y=m.max(b.y,T.y,C.y,w.y),p.push("padding:0 ",v(b.x/y),"px ",v(b.y/y),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",g.join(""),", sizingmethod='clip');")}else p.push("top:",v(f.y/y),"px;left:",v(f.x/y),"px;");p.push(' ">','<g_vml_:image src="',e.src,'"',' style="width:',y*i,"px;"," height:",y*n,'px;"',' cropleft="',o/d,'"',' croptop="',l/u,'"',' cropright="',(d-o-a)/d,'"',' cropbottom="',(u-l-r)/u,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",p.join(""))},D.stroke=function(e){var t=[],s=a(e?this.fillStyle:this.strokeStyle),i=s.color,n=s.alpha*this.globalAlpha;t.push("<g_vml_:shape",' filled="',!!e,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0 0" coordsize="',10*y," ",10*y,'"',' stroked="',!e,'"',' path="');for(var o={x:null,y:null},l={x:null,y:null},c=0;c<this.currentPath_.length;c++){var h=this.currentPath_[c];switch(h.type){case"moveTo":t.push(" m ",v(h.x),",",v(h.y));break;case"lineTo":t.push(" l ",v(h.x),",",v(h.y));break;case"close":t.push(" x "),h=null;break;case"bezierCurveTo":t.push(" c ",v(h.cp1x),",",v(h.cp1y),",",v(h.cp2x),",",v(h.cp2y),",",v(h.x),",",v(h.y));break;case"at":case"wa":t.push(" ",h.type," ",v(h.x-this.arcScaleX_*h.radius),",",v(h.y-this.arcScaleY_*h.radius)," ",v(h.x+this.arcScaleX_*h.radius),",",v(h.y+this.arcScaleY_*h.radius)," ",v(h.xStart),",",v(h.yStart)," ",v(h.xEnd),",",v(h.yEnd))}h&&((null==o.x||h.x<o.x)&&(o.x=h.x),(null==l.x||h.x>l.x)&&(l.x=h.x),(null==o.y||h.y<o.y)&&(o.y=h.y),(null==l.y||h.y>l.y)&&(l.y=h.y))}if(t.push(' ">'),e)if("object"==typeof this.fillStyle){var d=this.fillStyle,u=0,f={x:0,y:0},p=0,g=1;if("gradient"==d.type_){var b=d.x1_/this.arcScaleX_,T=d.y1_/this.arcScaleY_,C=this.getCoords_(d.x0_/this.arcScaleX_,d.y0_/this.arcScaleY_),w=this.getCoords_(b,T);u=180*Math.atan2(w.x-C.x,w.y-C.y)/Math.PI,0>u&&(u+=360),1e-6>u&&(u=0)}else{var C=this.getCoords_(d.x0_,d.y0_),S=l.x-o.x,_=l.y-o.y;f={x:(C.x-o.x)/S,y:(C.y-o.y)/_},S/=this.arcScaleX_*y,_/=this.arcScaleY_*y;var x=m.max(S,_);p=2*d.r0_/x,g=2*d.r1_/x-p}var E=d.colors_;E.sort(function(e,t){return e.offset-t.offset});for(var P=E.length,D=E[0].color,k=E[P-1].color,B=E[0].alpha*this.globalAlpha,N=E[P-1].alpha*this.globalAlpha,A=[],c=0;P>c;c++){var I=E[c];A.push(I.offset*g+p+" "+I.color)}t.push('<g_vml_:fill type="',d.type_,'"',' method="none" focus="100%"',' color="',D,'"',' color2="',k,'"',' colors="',A.join(","),'"',' opacity="',N,'"',' g_o_:opacity2="',B,'"',' angle="',u,'"',' focusposition="',f.x,",",f.y,'" />')}else t.push('<g_vml_:fill color="',i,'" opacity="',n,'" />');else{var L=this.lineScale_*this.lineWidth;1>L&&(n*=L),t.push("<g_vml_:stroke",' opacity="',n,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',r(this.lineCap),'"',' weight="',L,'px"',' color="',i,'" />')}t.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",t.join(""))},D.fill=function(){this.stroke(!0)},D.closePath=function(){this.currentPath_.push({type:"close"})},D.getCoords_=function(e,t){var s=this.m_;return{x:y*(e*s[0][0]+t*s[1][0]+s[2][0])-w,y:y*(e*s[0][1]+t*s[1][1]+s[2][1])-w}},D.save=function(){var e={};l(this,e),this.aStack_.push(e),this.mStack_.push(this.m_),this.m_=o(n(),this.m_)},D.restore=function(){l(this.aStack_.pop(),this),this.m_=this.mStack_.pop()},D.translate=function(e,t){u(this,o([[1,0,0],[0,1,0],[e,t,1]],this.m_),!1)},D.rotate=function(e){var t=b(e),s=g(e);u(this,o([[t,s,0],[-s,t,0],[0,0,1]],this.m_),!1)},D.scale=function(e,t){this.arcScaleX_*=e,this.arcScaleY_*=t,u(this,o([[e,0,0],[0,t,0],[0,0,1]],this.m_),!0)},D.transform=function(e,t,s,i,n,l){u(this,o([[e,t,0],[s,i,0],[n,l,1]],this.m_),!0)},D.setTransform=function(e,t,s,i,n,o){u(this,[[e,t,0],[s,i,0],[n,o,1]],!0)},D.clip=function(){},D.arcTo=function(){},D.createPattern=function(){return new p},f.prototype.addColorStop=function(e,t){t=a(t),this.colors_.push({offset:e,color:t.color,alpha:t.alpha})},G_vmlCanvasManager=_,CanvasRenderingContext2D=c,CanvasGradient=f,CanvasPattern=p}(),Placeholder={defaultSettings:{normal:"#000000",placeholder:"#C0C0C0",wait:!1,classFocus:"",classBlur:""},init:function(e){if(e)for(var t in e)Placeholder.defaultSettings[t]=e[t];for(var s=document.getElementsByTagName("input"),i=document.getElementsByTagName("textarea"),n=Placeholder.utils.concat(s,i),o=0;o<n.length;o++){var l=n[o].getAttribute("placeholder");if(l&&"text"==n[o].type||"password"==n[o].type||"textarea"==n[o].type){var a=n[o];a.onclick=function(){Placeholder.onSelected(this)},a.onfocus=function(){},a.onblur=function(){Placeholder.unSelected(this)},Placeholder.defaultSettings.wait&&(a.onkeypress=function(){Placeholder.onType(this)}),Placeholder.style.inactive(a),a.value=l;for(var r=document.getElementsByTagName("form"),c=0;c<r.length;c++)if(r[c]){var h=r[c].children;Placeholder.utils.contains(h,a)&&(r[c].onsubmit=function(){Placeholder.submitted(this)})}}}},onSelected:function(e){1==Placeholder.defaultSettings.wait?e.value==e.getAttribute("placeholder")&&Placeholder.utils.caret(e):(e.value==e.getAttribute("placeholder")&&(e.value=""),Placeholder.style.normal(e))},onType:function(e){var t=e.getAttribute("placeholder");e.value=e.value.replace(t,""),e.value.length<=0?(Placeholder.style.inactive(e),e.value=t,Placeholder.utils.caret(e)):Placeholder.style.normal(e)},unSelected:function(e){e.value.length<=0&&(Placeholder.style.inactive(e),e.value=e.getAttribute("placeholder"))},submitted:function(e){for(var t=e.children,s=0;s<t.length;s++)if(t[s]){var i=t[s];("input"==i.tagName.toLowerCase()||"textarea"==i.tagName.toLowerCase())&&i.value==i.getAttribute("placeholder")&&(i.value="")}},style:{normal:function(e){Placeholder.defaultSettings.classFocus?e.className=Placeholder.defaultSettings.classFocus:e.style.color=Placeholder.defaultSettings.normal},inactive:function(e){Placeholder.defaultSettings.classBlur?e.className=Placeholder.defaultSettings.classBlur:e.style.color=Placeholder.defaultSettings.placeholder}},utils:{contains:function(e,t){for(var s=0;s<e.length;s++)if(e[s]&&e[s]==t)return!0;return!1},concat:function(e,t){for(var s=[],i=0;i<e.length;i++)e[i]&&s.push(e[i]);for(var i=0;i<t.length;i++)t[i]&&s.push(t[i]);return s},caret:function(e){if(e.setSelectionRange)e.focus(),e.setSelectionRange(0,0);else if(e.createTextRange){var t=e.createTextRange();t.collapse(!0),t.moveEnd("character",0),t.moveStart("character",0),t.select()}}}};